.message {
  display: flex;
  flex-direction: column;
  margin-top: 10px;
}

.messageTop {
  display: flex;
  align-items: flex-end;
}
.messageImg {
  margin-right: 0;
  margin-left: 10px;
  width: 36px !important;
  height: 36px !important;
}
.messageText {
  position: relative;
  padding: 10px;
  border-radius: 20px;
  background-color: var(--borders);
  color: var(--text);
  margin-left: 10px;
  word-break: break-word;
  text-align: justify;
  text-justify: inter-word;
  /* overflow: hidden; */
}

.messageTextSettings {
  position: absolute;
  display: none;
  /* display: flex; */
  align-items: flex-end;
  /* align-items: center; */
  justify-content: center;
  gap: 5px;
  background-color: var(--bg);
  bottom: 0;
  min-width: 35px;
  min-height: 20px;
  padding: 0 10px 3px 6px;
  opacity: 0;
  cursor: pointer;
}

.messageText:hover .messageTextSettings {
  display: flex;
  opacity: 0.5;
  transition: all 0.7s ease-in-out;
}

.messageText:hover .messageTextSettings:hover {
  opacity: 1;
  transition: all 0.3s ease-in-out;
}

.message .messageTextSettings {
  right: 0;
  border-top-left-radius: 17px;
  border-bottom-right-radius: 17px;
  border-top: 2px solid var(--gray);
  border-left: 2px solid var(--gray);
  border-right: 1px solid var(--borders);
  border-bottom: 1px solid var(--borders);
}
.message.own .messageTextSettings {
  left: 0;
  max-width: 35px;
  border-bottom-left-radius: 17px;
  border-top-right-radius: 17px;
  border-top-left-radius: 0px;
  border-bottom-right-radius: 0px;
  border-top: 2px solid var(--gray);
  border-right: 2px solid var(--gray);
  border-left: 1px solid var(--borders);
  border-bottom: 1px solid var(--borders);
}

.messageTextSettingsItems {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
}

.message.own .messageTextSettingsItem {
  display: none;
}
.message .messageTextSettingsItem {
  color: var(--gray);
  font-size: 0.75rem;
  word-break: keep-all;
  text-indent: 0px;
  margin-top: 5px;
  margin-right: 10px;
  margin-bottom: 0px;
}

.messageTextSettingsItemDelete {
  color: var(--red);
  font-size: 1.1rem !important;
  cursor: pointer;
  z-index: 5;
}

.messageText h1,
.messageText h2,
.messageText h3,
.messageText h4,
.messageText h5,
.messageText h6,
.messageText p,
.messageText strong,
.messageTextReason h1,
.messageTextReason h2,
.messageTextReason h3,
.messageTextReason h4,
.messageTextReason h5,
.messageTextReason h6,
.messageTextReason strong,
.messageTextReason p,
.thinkingText h1,
.thinkingText h2,
.thinkingText h3,
.thinkingText h4, 
.thinkingText h5,
.thinkingText h6,
.thinkingText strong,
.thinkingText p,
.messageTextPreloader h1,
.messageTextPreloader h2,
.messageTextPreloader h3,
.messageTextPreloader h4,
.messageTextPreloader h5,
.messageTextPreloader h6,
.messageTextPreloader strong,
.messageTextPreloader p,
.popupIndexedDBViewPreviewContent h1,
.popupIndexedDBViewPreviewContent h2,
.popupIndexedDBViewPreviewContent h3,
.popupIndexedDBViewPreviewContent h4,
.popupIndexedDBViewPreviewContent h5,
.popupIndexedDBViewPreviewContent h6,
.popupIndexedDBViewPreviewContent strong,
.popupIndexedDBViewPreviewContent p {
  text-indent: 19px;
  margin-top: 7px;
  margin-bottom: 7px;
}

.messageText ol li,
.messageTextReason ol li,
.messageTextPreloader ol li,
.popupIndexedDBViewPreviewContent ol li
 {
  list-style: decimal;
  margin-left: 15px;
}
.messageText ol li p,
.messageTextReason ol li p,
.messageTextPreloader ol li p,
.popupIndexedDBViewPreviewContent ol li p
 {
  text-indent: 0px;
}

.messageText ul li,
.messageTextReason ul li,
.messageTextPreloader ul li,
.popupIndexedDBViewPreviewContent ul li {
  list-style: disc;
  margin-left: 15px;
}

.messageText ul li p,
.messageTextReason ul li p,
.messageTextPreloader ul li p,
.popupIndexedDBViewPreviewContent ul li p
 {
  text-indent: 0px;
}

.messageText hr,
.messageTextReason hr,
.messageTextPreloader hr,
.popupIndexedDBViewPreviewContent hr
 {
  display: block;
  width: 85%;
  height: 1px;
  background-color: var(--gray);
  border-radius: 5px;
  margin: 15px auto;
  box-shadow: 0px 0px 7px 3px var(--bg);
}

.messageText pre,
.messageTextReason pre {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  flex-wrap: nowrap;
  gap: 5px;
  width: 100%;
  overflow: auto;
  background-color: var(--gray);
  border-radius: 5px;
  padding: 20px 0px 0px;
  border: 2px solid var(--gray);
  margin: 10px auto;
  text-align: left;
  word-break: break-word;
}

.messageText pre code,
.messageTextReason pre code {
  display: block;
  width: 100%;
  background-color: var(--text);
  color: lightyellow;
  padding: 10px;
  white-space: pre-wrap;
}

.messageText code,
.messageTextReason code {
  color: var(--green);
  font-size: 0.875rem;
  font-weight: 600;
  letter-spacing: 1.2px;
}

.messageText table,
.messageTextReason table,
.messageTextPreloader table
 {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
  margin-top: 10px;
  margin-bottom: 10px;
  box-shadow: 0px 0px 7px 5px var(--bg);
  word-break: keep-all;
}

.messageText td,
.messageText th,
.messageTextReason td,
.messageTextReason th,
.messageTextPreloader td,
.messageTextPreloader th {
  border: 1px dashed var(--gray);
  text-align: left;
  padding: 5px;
}

.messageText th,
.messageTextReason th {
  font-weight: bold;
  text-align: center;
  padding-top: 8px;
  padding-bottom: 6px;
}

.messageHeader {
  display: flex;
  align-items: center;
  gap: 5px;
}

.messageHeaderThinkingImg {
  width: 25px;
  height: 25px;
}

.messageTextReasonBox {
  position: relative;
  max-width: 100%;
  border-top: 4px double var(--gray);
  border-left: 1px dashed var(--gray);
  border-right: 1px dashed var(--gray);
  border-bottom: 4px double var(--gray);
  margin-top: 5px;
  margin-left: -27px;
  margin-bottom: 25px;
  background-color: lightyellow;
}

.messageHeaderThinkingImgBottom {
  position: absolute;
  bottom: -25px;
  left: 50%;
  transform: translate(-50%, 0);
  width: 40px;
  height: 40px;
  background-color: var(--bg);
  padding: 3px 3px;
  border-radius: 50%;
  border-bottom-left-radius: 5px;
  border-bottom-right-radius: 5px;
  border-top: 4px double var(--gray);
}

.messageTextReason {
  padding: 10px;
  color: var(--gray);
  margin-bottom: 5px;
}

.messageTextReason span {
  margin-left: 19px;
}

.messageTextPreloader {
  /* position: relative; */
  padding: 5px;
  border-radius: 15px;
  border-bottom-left-radius: 3px;
  border: 1px solid var(--borders);
  background-color: var(--bg);
  box-shadow: inset 0 0 5px var(--borders);
  color: var(--gray);
  font-weight: 500;
  word-break: break-all;
  margin-right: 70px;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  gap: 5px;
  overflow: auto;
}

.messageTextPreloader * {
  margin: 0;
  color: var(--gray);
  font-weight: inherit;
  word-break: break-all;
}

.messageTextPreloaderControl {
  display: flex;
  align-items: center;
  justify-content: center;
  float: left;
}

.messageTextPreloaderInterrupt {
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  border: 2px solid var(--borders);
  width: 22px;
  height: 22px;
  background-color: var(--bg);
}

.messageTextPreloaderInterrupt:hover {
  cursor: pointer;
  border-color: var(--gray);
  background-color: var(--borders);
}

.messageTextPreloaderInterruptBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--borders) !important;
}

.messageTextPreloaderInterruptBtn:hover {
  cursor: pointer;
  color: var(--red);
}

.messageTextPreloaderConnection {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 3px;
}

.thinkingText {
  padding: 7px;
  border-radius: 5px;
  background-color: lightyellow;
  color: darkblue;
  font-size: 0.75rem;
  font-style: italic;
  font-weight: 600;
  width: 98%;
  /* text-align: center; */
}

.messageBottom {
  font-size: 0.625rem;
  margin-top: 5px;
  margin: 0 55px;
  font-style: italic;
}

.messageImgUsername {
  position: absolute;
  top: -62px;
  left: -25px;
}

.messageUsername {
  font-size: 0.875rem;
  line-height: 1.3;
  font-weight: 500;
  color: var(--green);
  max-width: 200px;
  /* text-align: right; */
  text-transform: capitalize;
}

.message.own {
  align-items: flex-end;
  margin-right: 10px;
}

.message .messageText {
  border-bottom-left-radius: 0px;
  margin-left: 0px;
  /* margin-right: 70px; */
}

.message.own .messageHeader {
  flex-direction: row-reverse;
}
.message.own .messageText {
  background-color: var(--main);
  color: var(--text);
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 0px;
  margin-left: 70px;
  margin-right: 0px;
}

.message .messageUsername {
  font-size: 0.875rem;
  line-height: 1.3;
  font-weight: 500;
  color: var(--gray);
  text-align: left;
}
.message.own .messageUsername {
  font-size: 0.875rem;
  line-height: 1.3;
  font-weight: 500;
  color: var(--green);
  text-align: right;
}

.aiMessagePreloader {
  transform: scaleX(-1);
}

.AiMessageImg {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
}

.AiMessageImg Img {
  margin-left: 2px;
  border-radius: 10px;
  max-width: 300px;
  width: 100%;
  /* height: 65px; */
  object-fit: contain;
}

.message.own .messageWrapper {
  margin-right: 0px;
}
.message .messageWrapper {
  display: flex;
  align-items: center;
  /* align-items: flex-end; */
  /* justify-content: flex-end; */
  justify-content: flex-start;
  gap: 5px;
  margin-right: 45px;
}

.messageSpeaker {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 5px;
  min-width: 40px;
  max-width: 50px;
  height: 70px;
  border-radius: 10px;
  border: 2px solid var(--borders);
  box-shadow: inset 0px 0px 7px 3px var(--bordersOpacity);
  margin-top: auto;
  cursor: pointer;
}

.messageSpeaker:hover {
  cursor: pointer;
  border-color: var(--gray);
  background-color: var(--borders);
}


